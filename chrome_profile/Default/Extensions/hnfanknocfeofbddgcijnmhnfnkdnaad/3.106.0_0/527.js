/*! For license information please see 527.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[527],{83420:(e,t,n)=>{n.r(t),n.d(t,{Interstitial:()=>G});var r=n(14041),o=n(32183),i=n(8867),a=n(86090),s=n(9308),c=n(33715),l=n(31683),d=n(70918),u=n(79734),h=n(10058),p=n(4681),f=n(59706),g=n(22115),m=n(85581),y=n(34107),v=n(15654),b=n(84492),w=n(60149),x=n(97541),L=n(67209),E=n(72162),P=n(92947),k=n(55452),I=n(34767);function S(e){return(0,k.cp)("onramp_interstitial.viewed",{loggingId:"a2e0ba41-1bfa-465b-a237-d65a3fe1ca86",componentType:I.I5.page,context:e??"none"})}var C,_=n(31085);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(){j=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new M(r||[]);return o(a,"_invoke",{value:I(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,L=x&&x(x(R([])));L&&L!==n&&r.call(L,a)&&(w=L);var E=b.prototype=y.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==O(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=S(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=u(t,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=u(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(O(t)+" is not iterable")}return v.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},P(k.prototype),l(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function M(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,s,"next",e)}function s(e){M(i,r,o,a,s,"throw",e)}a(void 0)}))}}e=n.hmd(e),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&C(e);var N,A,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},B=(0,o.YK)({title:{id:"0cBfNo",defaultMessage:[{type:0,value:"Add crypto"}]},main:{id:"ANYNnm",defaultMessage:[{type:0,value:"Buy or transfer from Coinbase"}]},subtitle:{id:"n5pNbz",defaultMessage:[{type:0,value:"You can add crypto from your Coinbase account or another wallet."}]},finePrint:{id:"gB/gnI",defaultMessage:[{type:0,value:"Use of Coinbase.com's account linkage feature is subject to Coinbase.com's "},{type:1,value:"userAgreement"},{type:0,value:" and "},{type:1,value:"privacyPolicy"},{type:0,value:"."}]},userAgreement:{id:"V6jvi1",defaultMessage:[{type:0,value:"User Agreement"}]},privacyPolicy:{id:"0ROee6",defaultMessage:[{type:0,value:"Privacy Policy"}]},buttonCta:{id:"EeHuvk",defaultMessage:[{type:0,value:"Add crypto with Coinbase Onramp"}]},otherButton:{id:"IykAaN",defaultMessage:[{type:0,value:"Transfer from another wallet"}]}});function G(){var e=(0,a.g)().mode;S(e);var t=(0,i.A)().formatMessage,n=(0,a.W6)(),o=(0,d.h)(),C=(0,l.aR)({walletGroupId:o}),O=(0,c.Gj)({widgetParameters:{destinationWallets:C}}),M=O.cbPayInstance,N=O.isCBPayInstanceReady,A=(0,r.useCallback)((function(){var t,n;n=e,(0,k.$s)("onramp_interstitial.connect_coinbase",{loggingId:"dcb60e9e-075b-4fbf-a7f1-d0439701fdbd",action:I.X2.click,componentType:I.I5.button,context:n??"none"}),null===(t=M.current)||void 0===t||t.open()}),[e,M]),T=(0,r.useCallback)((function(){var t;t=e,(0,k.$s)("onramp_interstitial.transfer_other",{loggingId:"3e932f1e-05cc-4d2f-93bc-1c1b52d730a4",action:I.X2.click,componentType:I.I5.button,context:t??"none"});var r="/receive/address";n.entries.at(-2).pathname===r?n.goBack():n.push(r)}),[n,e]),G=(0,r.useCallback)((function(){n.goBack(),(0,s.Ts)(n.entries.at(-1))}),[n]),F=(0,r.useCallback)(R(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",chrome.tabs.create({url:u.i1,active:!1}));case 1:case"end":return e.stop()}}),e)}))),[]),W=(0,r.useCallback)(R(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",chrome.tabs.create({url:u.WO,active:!1}));case 1:case"end":return e.stop()}}),e)}))),[]);return(0,_.jsxs)(p.ff,{header:(0,_.jsx)(h.jq,{variant:"secondary",title:t(B.title),handleBack:G,navBarTopComponent:(0,_.jsx)(P.P,{})}),children:[(0,_.jsxs)(v.T,{justifyContent:"space-between",spacingHorizontal:3,spacingBottom:3,spacingTop:2,height:515,children:[(0,_.jsxs)(v.T,{gap:3,children:[(0,_.jsx)(b.z,{alignItems:"center",justifyContent:"center",children:(0,_.jsx)(f.t,{illustration:"TransferCoinsMiami",alt:t(B.main),children:(0,_.jsx)(y.g,{name:"linkCoinbaseWallet",scaleMultiplier:.9})})}),(0,_.jsxs)(v.T,{gap:1,alignItems:"center",justifyContent:"center",children:[(0,_.jsx)(w.f,{as:"h2",children:t(B.main)}),(0,_.jsx)(x.K,{as:"p",color:"foregroundMuted",align:"center",children:t(B.subtitle)})]})]}),(0,_.jsxs)(g.e,{accessibilityLabel:"Transfer Funds",block:!0,direction:"vertical",children:[(0,_.jsx)(m.$,{loading:!N,testID:"cbpay-button",id:"cbpay-button",onPress:A,children:t(B.buttonCta)}),(0,_.jsx)(m.$,{onPress:T,variant:"secondary",id:"onramp-interstitial-receive-btn",testID:"onramp-interstitial-receive-btn",children:t(B.otherButton)})]}),(0,_.jsx)(L.V,{as:"p",color:"foregroundMuted",align:"center",children:t(B.finePrint,{userAgreement:(0,_.jsx)(E.N_,{variant:"legal",color:"primary",onPress:F,children:t(B.userAgreement)}),privacyPolicy:(0,_.jsx)(E.N_,{variant:"legal",color:"primary",onPress:W,children:t(B.privacyPolicy)})})})]}),(0,_.jsx)("div",{id:"cbpay-iframe-container"})]})}T(G,"useParams{{ mode }}\nuseOnrampInterstitialViewed{}\nuseIntl{{ formatMessage }}\nuseHistory{history}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseDestinationWallets{destinationWallets}\nuseCoinbasePay{{ cbPayInstance, isCBPayInstanceReady }}\nuseCallback{handleConnectCoinbaseClick}\nuseCallback{handleOtherClick}\nuseCallback{handleBackClick}\nuseCallback{handleClickUserAgreement}\nuseCallback{handleClickPrivacyPolicy}",(function(){return[a.g,S,i.A,a.W6,d.h,l.aR,c.Gj]})),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(B,"messages","/workspaces/apps/extension/src/screens/Onramp/Interstitial.tsx"),N.register(G,"Interstitial","/workspaces/apps/extension/src/screens/Onramp/Interstitial.tsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},28345:(e,t,n)=>{n.d(t,{aw:()=>l,mp:()=>P});var r,o,i=Object.defineProperty,a=(e,t)=>i(e,"name",{value:t,configurable:!0}),s=(e,t,n)=>(((e,t,n)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),c="https://pay.coinbase.com",l=a((({host:e=c,destinationWallets:t,...n})=>{const r=new URL(e);return r.pathname="/buy/select-asset",void 0!==t&&r.searchParams.append("destinationWallets",JSON.stringify(t)),Object.keys(n).forEach((e=>{const t=n[e];void 0!==t&&r.searchParams.append(e,t.toString())})),r.searchParams.sort(),r.toString()}),"generateOnRampURL"),d="cbpay-embedded-onramp",u=a((({url:e,width:t="100%",height:n="100%",position:r="fixed",top:o="0px"})=>{const i=document.createElement("iframe");return i.style.border="unset",i.style.borderWidth="0",i.style.width=t.toString(),i.style.height=n.toString(),i.style.position=r,i.style.top=o,i.id=d,i.src=e,i}),"createEmbeddedContent");(o=r||(r={})).LaunchEmbedded="launch_embedded",o.AppReady="app_ready",o.AppParams="app_params",o.SigninSuccess="signin_success",o.Success="success",o.Exit="exit",o.Event="event",o.Error="error",o.PixelReady="pixel_ready",o.OnAppParamsNonce="on_app_params_nonce";var h=a(((e,{onMessage:t,shouldUnsubscribe:n=!0,allowedOrigin:r,onValidateOrigin:o=a((()=>Promise.resolve(!0)),"onValidateOrigin")})=>{const i=a((a=>{const{eventName:s,data:c}=f(a.data),l=!r||a.origin===r;s===e&&(async()=>{l&&await o(a.origin)&&(t(c),n&&window.removeEventListener("message",i))})()}),"onMessage");return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}}),"onBroadcastedPostMessage"),p=a(((e,t,{allowedOrigin:n="*",data:r}={})=>{const o=g(t,r);e.postMessage(o,n)}),"broadcastPostMessage"),f=a((e=>{try{return JSON.parse(e)}catch{return{eventName:e}}}),"parsePostMessage"),g=a(((e,t)=>t?JSON.stringify({eventName:e,data:t}):e),"formatPostMessage"),m="coinbase-sdk-connect",y={width:460,height:730},v={width:430,height:600},b=class{constructor({host:e=c,appId:t,appParams:n,onReady:r,onFallbackOpen:o,debug:i,theme:l}){s(this,"state","loading"),s(this,"nonce",""),s(this,"eventStreamListeners",{}),s(this,"unsubs",[]),s(this,"isLoggedIn",!1),s(this,"openExperience",a((e=>{if(this.log("Attempting to open experience",{state:this.state}),"waiting_for_response"===this.state)return;if("loading"===this.state)return;if("failed"===this.state)return void this.onFallbackOpen?.();if(!this.nonce)throw new Error("Attempted to open CB Pay experience without nonce");const t=this.nonce;this.nonce="",this.setupExperienceListeners(e);const{path:n,experienceLoggedIn:r,experienceLoggedOut:o,embeddedContentStyles:i}=e,s=new URL(`${this.host}${n}`);s.searchParams.append("appId",this.appId),s.searchParams.append("type","secure_standalone"),this.theme&&s.searchParams.append("theme",this.theme);const c=this.isLoggedIn?r:o||r;s.searchParams.append("nonce",t);const l=s.toString();if(this.log("Opening experience",{experience:c,isLoggedIn:this.isLoggedIn}),"embedded"===c){const e=a((()=>{const e=u({url:l,...i});i?.target?document.querySelector(i?.target)?.replaceChildren(e):document.body.appendChild(e)}),"openEmbeddedExperience");this.isLoggedIn?e():this.startDirectSignin(e)}else"popup"===c&&window.chrome?.windows?.create?window.chrome.windows.create({url:l,setSelfAsOpener:!0,type:"popup",focused:!0,width:y.width,height:y.height,left:window.screenLeft-y.width-10,top:window.screenTop},(e=>{this.addEventStreamListener("open",(()=>{e?.id&&chrome.windows.update(e.id,{width:v.width,height:v.height,left:window.screenLeft-v.width-10,top:window.screenTop})}))})):"new_tab"===c&&window.chrome?.tabs?.create?window.chrome.tabs.create({url:l}):x(l,c);const d=a((()=>{this.sendAppParams(),this.removeEventStreamListener("open",d)}),"onOpen");this.addEventStreamListener("open",d)}),"openExperience")),s(this,"endExperience",a((()=>{document.getElementById(d)?.remove()}),"endExperience")),s(this,"destroy",a((()=>{document.getElementById(m)?.remove(),this.unsubs.forEach((e=>e()))}),"destroy")),s(this,"addPixelReadyListener",a((()=>{this.onMessage("pixel_ready",{shouldUnsubscribe:!1,onMessage:e=>{this.log("Received message: pixel_ready"),this.isLoggedIn=!!e?.isLoggedIn,this.removeErrorListener?.(),this.sendAppParams((()=>{this.onReadyCallback?.()}))}})}),"addPixelReadyListener")),s(this,"addErrorListener",a((()=>{this.removeErrorListener=this.onMessage("error",{shouldUnsubscribe:!0,onMessage:e=>{if(this.log("Received message: error"),e){const t="string"==typeof e?e:JSON.stringify(e);this.onReadyCallback?.(new Error(t))}}})}),"addErrorListener")),s(this,"embedPixel",a((()=>{document.getElementById(m)?.remove();const e=w({host:this.host,appId:this.appId});e.onerror=this.onFailedToLoad,this.pixelIframe=e,document.body.appendChild(e)}),"embedPixel")),s(this,"onFailedToLoad",a((()=>{if(this.state="failed",this.onFallbackOpen)this.debug&&console.warn("Failed to load CB Pay pixel. Falling back to opening in new tab."),this.onReadyCallback?.();else{const e=new Error("Failed to load CB Pay pixel");this.debug&&console.error(e),this.onReadyCallback?.(e)}}),"onFailedToLoad")),s(this,"sendAppParams",a((e=>{this.pixelIframe?.contentWindow?(this.log("Sending message: app_params"),this.onMessage("on_app_params_nonce",{onMessage:t=>{this.state="ready",this.nonce=t?.nonce||"",e?.()}}),this.state="waiting_for_response",p(this.pixelIframe.contentWindow,"app_params",{data:this.appParams})):(console.error("Failed to find pixel content window"),this.state="failed",this.onFallbackOpen?.())}),"sendAppParams")),s(this,"setupExperienceListeners",a((({onSuccess:e,onExit:t,onEvent:n,onRequestedUrl:r})=>{this.onMessage("event",{shouldUnsubscribe:!1,onMessage:o=>{const i=o;this.eventStreamListeners[i.eventName]?.forEach((e=>e?.())),"success"===i.eventName&&e?.(),"exit"===i.eventName&&t?.(i.error),"request_open_url"===i.eventName&&r?.(i.url),n?.(o)}})}),"setupExperienceListeners")),s(this,"startDirectSignin",a((e=>{const t=new URLSearchParams;t.set("appId",this.appId),t.set("type","direct");const n=x(`${this.host}/signin?${t.toString()}`,"popup");this.onMessage("signin_success",{onMessage:()=>{n?.close(),e()}})}),"startDirectSignin")),s(this,"addEventStreamListener",a(((e,t)=>{this.eventStreamListeners[e]?this.eventStreamListeners[e]?.push(t):this.eventStreamListeners[e]=[t]}),"addEventStreamListener")),s(this,"removeEventStreamListener",a(((e,t)=>{if(this.eventStreamListeners[e]){const n=this.eventStreamListeners[e]?.filter((e=>e!==t));this.eventStreamListeners[e]=n}}),"removeEventStreamListener")),s(this,"onMessage",a(((...e)=>{const t=h(e[0],{allowedOrigin:this.host,...e[1]});return this.unsubs.push(t),t}),"onMessage")),s(this,"log",a(((...e)=>{this.debug&&console.log("[CBPAY]",...e)}),"log")),this.host=e,this.appId=t,this.appParams=n,this.onReadyCallback=r,this.onFallbackOpen=o,this.debug=i||!1,this.theme=l,this.addPixelReadyListener(),this.addErrorListener(),this.embedPixel(),setTimeout((()=>{"ready"!==this.state&&this.onFailedToLoad()}),5e3)}};function w({host:e,appId:t}){const n=document.createElement("iframe");n.style.border="unset",n.style.borderWidth="0",n.style.width="0",n.style.height="0",n.style.height="0",n.id=m;const r=new URL(`${e}/embed`);return r.searchParams.append("appId",t),n.src=r.toString(),n}function x(e,t){return window.open(e,"Coinbase","popup"===t?`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, height=${y.height},width=${y.width}`:void 0)}a(b,"CoinbasePixel"),a(w,"createPixel"),a(x,"openWindow");var L={buy:"/buy",checkout:"/checkout"},E=class{constructor(e){if(s(this,"open",a((()=>{const{widget:e,experienceLoggedIn:t,experienceLoggedOut:n,embeddedContentStyles:r,onExit:o,onSuccess:i,onEvent:a,onRequestedUrl:s,closeOnSuccess:c,closeOnExit:l}=this.options;this.pixel.openExperience({path:L[e],experienceLoggedIn:t,experienceLoggedOut:n,embeddedContentStyles:r,onExit:()=>{o?.(),l&&this.pixel.endExperience()},onSuccess:()=>{i?.(),c&&this.pixel.endExperience()},onRequestedUrl:s,onEvent:a})}),"open")),s(this,"destroy",a((()=>{this.pixel.destroy()}),"destroy")),this.options=e,this.pixel=new b({...e,appParams:{widget:e.widget,...e.appParams}}),e.target){const t=document.querySelector(e.target);t&&t.addEventListener("click",this.open)}}};a(E,"CBPayInstance");var P=a((({experienceLoggedIn:e="embedded",widgetParameters:t,...n},r)=>{const o=new E({...n,widget:"buy",experienceLoggedIn:e,appParams:t,onReady:e=>{e?r(e,null):r(null,o)},onFallbackOpen:()=>{const e=l({appId:n.appId,host:n.host,theme:n.theme,...t});window.open(e)}})}),"initOnRamp");a((function(e,t){p(e,"event",{data:t})}),"broadcastEvent")}}]);
//# sourceMappingURL=527.js.map